#pragma config(Hubs,  S1, HTMotor,  none,     none,     none)
#pragma config(Sensor, S2,     magnetometer,   sensorAnalogInactive)
#pragma config(Sensor, S3,     compass,        sensorI2CCustom)
#pragma config(Motor,  mtr_S1_C1_1,     test,          tmotorTetrix, openLoop)
#pragma config(Motor,  mtr_S1_C1_2,     motorE,        tmotorTetrix, openLoop)
//*!!Code automatically generated by 'ROBOTC' configuration wizard               !!*//

#include "drivers/hitechnic-compass.h"

task main()
{
	HTMCsetTarget(compass);
	while(true) {
		if(nNxtButtonPressed == 1) {
			writeDebugStreamLine("Motor on");
			motor[test] = 100;
		}
		else if(nNxtButtonPressed == 2) {
			writeDebugStreamLine("Motor off");
			motor[test] = 0;
		}
		if(nNxtButtonPressed == 3) {
			HTMCsetTarget(compass);
			PlaySound(soundBeepBeep);
		}
		nxtDisplayCenteredTextLine(2, "Heading: %d", HTMCreadHeading(compass));
		writeDebugStreamLine("%d", HTMCreadHeading(compass));
		wait1Msec(5);
	}
}
